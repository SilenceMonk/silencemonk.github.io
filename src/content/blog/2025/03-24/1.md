---
title: '未来路径规划整理app: FuGo -- 基础构想'
description: '基础构想'
date: 2025-03-24
tags: ['FuGo']
authors: ['saaaadcat']
---

设计一个路径规划整理app:

1. 一个最小路径单元为任意一个点到点的路程（点到点步行/公共交通/驾车），或是从google map中分享过来的路径
2. 可以任意组合路径单元形成一个行程，同时可以任意组合任何行程行程一个更改层级的行程
3. 可以任意更改最小路径单元，并行程预计到达时间/金钱花费；
4. 每隔一段时间自动更新行程预计到达时间/金钱花费
5. 任何行程的变更若产生了冲突（比如两个行程的时间窗重叠），则会在行程上显示一个红点，并尝试重新规划行程

技术栈方案：

### 一、前端技术栈（Web 优先）

1. **核心框架**
   - **Next.js** + TypeScript

2. **状态管理**
   - **Redux Toolkit** + **Immer**
   - 原因：需要处理多层嵌套的行程结构，Immer简化不可变数据操作，Redux DevTools便于调试复杂状态变化

3. **可视化组件**
   - 拖拽排序：`react-beautiful-dnd`
   - 地图集成：`@react-google-maps/api`
   - ...

4. **UI 框架**
   - **shadcn/ui**

### 二、后端技术栈

1. **运行时**
   - **Node.js** (Express/NestJS)

2. **核心服务**
   - 路径规划引擎：集成 **Google Maps API**
   - 冲突检测服务：基于时间窗的自定义算法（区间树实现）
   - 行程冲突重新规划算法？

3. **数据库**
   - **PostgreSQL** + **PostGIS**（地理数据支持）

3. **实时计算架构**

   ```mermaid
   graph LR
   A[路径单元修改] --> B[向上冒泡更新]
   B --> C{是否根节点?}
   C -->|否| D[更新父节点时间]
   D --> B
   C -->|是| E[触发冲突检测]
   E --> F[可视化提示]
   ```

### 四、部署方案

1. **前端部署**
   - 平台：Vercel

2. **后端部署**
   - 平台：AWS EC2
