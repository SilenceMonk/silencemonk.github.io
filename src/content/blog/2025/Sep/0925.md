---
title: 'linux curl/wget怎么下载文件？'
description: 'curl/wget'
date: 2025-09-25
tags: ['干活技巧']
authors: ['saaaadcat']
---

---

### 1. `wget` (Web Get)

`wget` 是一个非常纯粹且强大的下载工具，它的设计目标就是“下载”。它简单易用，支持断点续传和递归下载，非常适合下载文件和镜像整个网站。

#### 基础用法

最简单的用法就是直接在 `wget` 后面跟上文件的 URL。

```bash
# 下载一个文件，并以其原始文件名保存在当前目录
wget https://example.com/somefile.zip
```

#### 常用选项

1. **`-O` (大写 O): 指定保存的文件名**
    如果你想用一个不同的名字保存文件，可以使用 `-O` 选项。

    ```bash
    # 将文件下载并保存为 my-file.zip
    wget -O my-file.zip https://example.com/somefile.zip
    ```

2. **`-P` (大写 P): 指定保存的目录**
    将文件下载到指定的文件夹中。

    ```bash
    # 将文件下载到 /home/user/downloads/ 目录下
    wget -P /home/user/downloads/ https://example.com/somefile.zip
    ```

3. **`-c` (continue): 断点续传**
    这是一个非常有用的功能。如果下载中断了，你可以用同一个命令加上 `-c` 选项，`wget` 会从上次中断的地方继续下载，而不是重新开始。

    ```bash
    # 如果 somefile.zip 之前没下载完，这条命令会继续下载
    wget -c https://example.com/somefile.zip
    ```

4. **`-b` (background): 后台下载**
    对于大文件的下载，你可以让它在后台运行，这样你就可以关闭终端窗口了。它会把日志输出到当前目录的 `wget-log` 文件中。

    ```bash
    wget -b https://example.com/large-video.mp4
    ```

    你可以使用 `tail -f wget-log` 来查看下载进度。

5. **`--limit-rate`: 限制下载速度**
    如果不想让下载任务占用全部带宽，可以限速。

    ```bash
    # 限制下载速度为 500k/s
    wget --limit-rate=500k https://example.com/large-file.iso
    ```

6. **`-r` (recursive): 递归下载 (镜像网站)**
    `wget` 可以像爬虫一样下载整个网站。**请谨慎使用，以免给对方服务器造成太大压力。**

    ```bash
    # 下载 example.com 网站的所有内容
    wget -r -p -k http://example.com
    # -r: 递归下载
    # -p: 下载所有用于显示页面的元素（图片、CSS等）
    # -k: 将下载的页面中的链接转换为本地链接，方便离线浏览
    ```

---

### 2. `curl` (Client URL)

`curl` 是一个功能更全面的数据传输工具，它不仅仅是下载文件。它可以用来发送各种类型的 HTTP 请求（GET, POST, PUT 等），测试 API，所以它更像一个“瑞士军刀”。

#### 基础用法

`curl` 的默认行为是将下载内容直接输出到**标准输出**（也就是你的终端屏幕上），而不是保存为文件。

```bash
# 这会把文件的内容打印在屏幕上，如果是二进制文件则会乱码
curl https://example.com/somefile.txt
```

#### 常用选项

1. **`-o` (小写 o): 将内容保存到文件（指定文件名）**
    这是 `curl` 保存文件的标准方式之一。

    ```bash
    # 将 URL 的内容下载并保存为 my-file.txt
    curl -o my-file.txt https://example.com/somefile.txt
    ```

2. **`-O` (大写 O): 以服务器上的原始文件名保存**
    `curl` 会从 URL 中提取文件名来保存文件，这和 `wget` 的默认行为很像。

    ```bash
    # 下载文件并以其在服务器上的名字 (somefile.zip) 保存
    curl -O https://example.com/somefile.zip
    ```

3. **`-L` (location): 跟随重定向**
    很多 URL 会进行 301 或 302 重定向。`curl` 默认不跟随，你需要加上 `-L` 选项才能下载到最终的文件。

    ```bash
    # 如果 URL 有重定向，-L 会自动跳转到最终地址并下载
    curl -L -O https://example.com/download-link
    ```

4. **`-C -` (continue at): 断点续传**
    `curl` 同样支持断点续传。`-C -` 告诉 `curl` 自动探测从哪里继续。

    ```bash
    # 如果 somefile.zip 之前没下载完，这条命令会继续下载
    curl -C - -O https://example.com/somefile.zip
    ```

5. **`-#` 或 `--progress-bar`: 显示进度条**
    `curl` 默认的进度信息比较详细，如果你只想要一个简单的进度条，可以使用 `-#`。

    ```bash
    curl -# -O https://example.com/large-file.iso
    ```

6. **`-H`: 添加请求头 (Header)**
    这是 `curl` 强大的地方，你可以自定义 HTTP 请求头，比如模拟浏览器、传递认证信息等。

    ```bash
    # 模拟浏览器 User-Agent 并下载
    curl -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64)" -O https://example.com/file
    
    # 传递认证 Token
    curl -H "Authorization: Bearer my-secret-token" https://api.example.com/data
    ```

---

### `wget` vs. `curl` 对比总结

| 特性 | `wget` | `curl` |
| :--- | :--- | :--- |
| **主要用途** | **纯粹的文件下载**，尤其是批量和递归下载。 | **数据传输和交互**，功能更广泛，是强大的 API 测试和调试工具。 |
| **默认行为** | 下载并**保存为文件**。 | 下载并**输出到标准输出**（屏幕）。 |
| **递归下载** | **支持** (`-r`)，是其核心功能之一。 | **不支持**。它的设计理念不是爬取网站。 |
| **库支持** | 作为一个独立的程序。 | 背后有强大的 `libcurl` 库，可以被集成到各种编程语言中。 |
| **协议支持** | 主要支持 HTTP, HTTPS, FTP。 | 支持的协议非常多（HTTP, HTTPS, FTP, SCP, SFTP, LDAP 等）。 |
| **易用性** | 对新手来说，下载文件更直接、简单。 | 功能更强大，选项更多，灵活性更高，但基础下载需要指定 `-o` 或 `-O`。 |

### 如何选择？

* **如果只想简单地下载一个文件或整个网站**，并且喜欢开箱即用的断点续传，用 `wget`。它就像一个可靠的“下载器”。
    > `wget -c <URL>`

* **如果需要进行复杂的操作**，比如测试 REST API，发送 POST 数据，自定义请求头，或者想在脚本中处理下载的数据流（比如通过管道 `|` 传给另一个命令）
    > `curl -L -o filename.zip <URL>`
